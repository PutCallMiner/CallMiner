{% macro analysis_indicator(recording_id, status) %}
    <div id="analysis-indicator" 
        hx-get="/recordings/{{ recording_id }}/analyze_status/" 
        hx-trigger="{% if status == 'in_progress' %}every 3s{% else %}click from:#analyze-button{% endif %}" 
        hx-swap="outerHTML">
        {% if status == "in_progress" %}
            <svg viewBox="25 25 50 50">
                <circle r="20" cy="50" cx="50"></circle>
            </svg>
        {% elif status == "finished" %}
            <img src="/public/assets/checkmark.svg"/>
        {% elif status == "failed" %}
            <img src="/public/assets/red_x.svg"/>
        {% else %}
            <div class="empty">{{ status }}</div>
        {% endif %}
    </div>
{% endmacro %}
{{ analysis_indicator(recording_id, status) }}
